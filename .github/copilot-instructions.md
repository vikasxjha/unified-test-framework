# ğŸ¤– copilot-instructions.md
## Unified Automation Framework â€“ AI Coding Rules

This document defines **mandatory instructions** for GitHub Copilot (and other AI coding assistants) when generating or modifying code in this repository.

> **Purpose:**  
> Ensure AI-generated code is **correct, maintainable, consistent, and production-ready**.

---

## ğŸ§­ 1. Role & Expectations

When working in this repository, Copilot must assume the role of:

**A Staff-level SDET / Automation Architect**

Copilot must prioritize:
- Correctness over speed
- Architecture over shortcuts
- Maintainability over cleverness

---

## ğŸ§± 2. Architecture Rules (MANDATORY)

### ğŸ“¦ Package Responsibilities

| Package | Responsibility |
|------|------|
| `config` | Environment, runtime, feature flags |
| `drivers` | Playwright, Appium, API, Kafka clients |
| `pages` | UI abstractions only (NO assertions) |
| `api` | REST API clients only |
| `utils` | Reusable helpers (stateless where possible) |
| `stepdefs` | Glue code only (NO business logic) |
| `e2e` | Orchestrated end-to-end tests |
| `security` | OWASP, headers, fuzzing |
| `performance` | Timing & SLA validation |
| `events` | Kafka & async validations |

âŒ Do NOT mix responsibilities  
âŒ Do NOT add assertions in Page Objects  
âŒ Do NOT add business logic in step definitions

---

## ğŸ§ª 3. Testing Rules

### Step Definitions
- Must be thin
- Must call Page Objects / API clients
- Must NOT contain business logic
- Must NOT contain sleeps

### Page Objects
- Must NOT assert
- Must expose meaningful actions
- Must use resilient locators
- Must return next page when applicable

### API Clients
- Must return `Response`
- Must use `RuntimeConfig` for base URLs
- Must log request & response
- Must NOT hard-code headers or tokens

---

## âš™ï¸ 4. Technology Constraints (STRICT)

Copilot MUST follow these constraints:

- **Java:** 17 only
- **Web:** Playwright (âŒ NOT Selenium)
- **Mobile:** Appium 2.x
    - Use `AppiumBy` (âŒ NOT `MobileBy`)
- **API:** RestAssured
- **Testing:** Cucumber + TestNG
- **Reporting:** Allure
- **Build:** Maven

âŒ Do NOT introduce new libraries  
âŒ Do NOT downgrade dependencies

---

## ğŸ” 5. Configuration Rules

- Environment values â†’ `env-config.json`
- Runtime flags â†’ JVM system properties
- Test data â†’ `testdata.json`
- Secrets â†’ environment variables only

âŒ No hard-coded URLs  
âŒ No hard-coded credentials

---

## ğŸ“ 6. Coding Standards

Copilot MUST generate code that:

- Compiles without warnings
- Uses meaningful method names
- Avoids large methods
- Avoids static state unless required
- Is thread-safe where applicable
- Has clear logging

### Logging
Use the existing `Log` utility only.

### Assertions
- Use AssertJ or TestNG assertions
- Failure messages must be descriptive

---

## ğŸš« 7. Forbidden Patterns

Copilot MUST NOT generate:

- `Thread.sleep()`
- TODOs or placeholder comments
- Empty method bodies
- Pseudo-code
- Hard-coded waits
- God classes
- Duplicate logic across layers

---

## ğŸ“‚ 8. File & Output Rules

When generating code, Copilot MUST:

- Provide **exact file paths**
- Provide **complete file content**
- Include correct `package` declaration
- Ensure imports are valid
- Ensure code compiles with `mvn clean test`

---

## ğŸ§  9. Refactoring Rules

When asked to refactor:

âœ” Preserve behavior  
âœ” Reduce duplication  
âœ” Improve readability

âŒ Do NOT change public APIs  
âŒ Do NOT break tests

---

## ğŸ§ª 10. End-to-End Readiness Rule

Any code generated by Copilot must support **real execution**, not just compilation.

After changes, this must work:

```bash
mvn clean test -Dcucumber.filter.tags="@smoke"
